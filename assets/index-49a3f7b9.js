import{d as g,e as D,f as K,w as O,g as P,h as W,c as d,a as e,i as k,v as z,u as o,j as w,F as h,r as v,k as $,l as x,t as f,m as H,o as i,n as Y,p as E}from"./index-88aac136.js";import C from"./vocabulary-e07df003.js";const q={class:"px-4 pt-6 2xl:px-0"},J={class:"border border-gray-200 rounded-lg bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 sm:p-6"},Q={class:"items-center justify-between lg:flex"},X=e("div",{class:"mb-4 lg:mb-0"},[e("h3",{class:"mb-2 text-xl font-bold text-gray-900 dark:text-white"}," 雅思词汇真经 "),e("span",{class:"text-base font-normal text-gray-500 dark:text-gray-400"},"涵盖雅思必备核心词，逻辑词群记忆法")],-1),Z={class:"items-center sm:flex"},G={class:"flex items-center"},ee=["value"],te={class:"inline-flex items-center cursor-pointer ml-2"},re=e("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),oe=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"练习模式",-1),se={key:0,class:"inline-flex items-center cursor-pointer ml-2"},le=e("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),ae=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"释义",-1),ne={key:1,class:"inline-flex items-center cursor-pointer ml-2"},de=e("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),ie=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"自动播放",-1),ce={class:"mt-6 flex flex-col"},ue={class:"overflow-x-auto rounded-lg"},fe={class:"inline-block min-w-full align-middle"},ge={class:"overflow-hidden shadow sm:rounded-lg"},pe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600"},be=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," # "),e("th",{class:"p-4 text-xs font-medium tracking-wider text-gray-500 dark:text-white"},[e("br")]),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词 "),e("th",{class:"w-0 text-left text-xs font-medium text-gray-500 dark:text-white"}," 词性 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词义 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 例句 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 拓展 ")])],-1),he={class:"bg-white dark:bg-gray-800"},xe={class:"bg-hex-f3f3f3"},ye={colspan:"7",class:"px-4 py-6 text-sm font-normal text-gray-900 dark:bg-gray-500 dark:text-white"},ke={class:"flex flex-row"},me={class:"flex flex-1 items-center"},_e={class:"text-lg"},we={class:"justify-items-end"},ve={controls:"",class:"chapter"},$e=["src"],Ee=["id"],Ce={class:"p-4"},Te=["onClick"],Se=["onClick"],Ve=["id","onFocusout","onFocusin"],Fe={class:"group relative whitespace-nowrap p-4 pr-6"},Ae={key:0},Ie=["title","href"],Be=["onClick"],Ne={style:{"font-style":"italic","font-family":"times"}},je={class:"p-4"},Le={class:"p-4"},Me={class:"p-4"},Ue={class:"flex items-center justify-between pt-3 sm:pt-6"},Re={key:0},De={key:0,class:"flex-shrink-0"},F="vocabulary_chapter",We={__name:"index",setup(Ke){const n=g(!1),m=g(!0),_=g(!0),y=g(!1),T=g(!1),S=g("");g("");const A=Object.keys(C),c=g(localStorage.getItem(F)||A[0]),I=g(!1),p=D(C);K(()=>{const r=structuredClone(C),t=c.value;return t!==""?{[t]:r[t]}:{}}),O(c,(r,t)=>{localStorage.setItem(F,r)});function B(){let r=0,t=0,s=0;if(n.value){let a=p[c.value];for(let l of a.words)for(let u of l)u.spellValue?u.spellError?r++:s++:t++}return`${t} 个未完成，${s} 个正确，${r} 个错误`}P(()=>{I.value=!0;const r=document.getElementsByTagName("audio");for(const t of r)t.onplay=()=>{for(const s of r)s.blur(),t!==s&&s.pause()}}),W(()=>{for(const r of document.getElementsByTagName("audio"))r.load()}),document.addEventListener("keydown",r=>{if(["ArrowLeft","ArrowRight"," "].includes(r.key)){r.preventDefault();const t=document.getElementsByTagName("audio"),s={ArrowLeft:-5,ArrowRight:5};for(const a of t){if(a.blur(),s[r.key]){const l=s[r.key];a.currentTime=a.currentTime+l}r.key===" "&&(a.paused?a.play():a.pause())}}});let b=null;function V(r){b&&(b.pause(),b.currentTime=0),b=document.createElement("audio"),b.src=r,b.play()}function N(r){const t=`${r.word} ${r.pos} ${r.meaning}`;navigator.clipboard.writeText(t)}function j(r){var a;r.stopPropagation();const{key:t,target:s}=r;t==="Enter"&&((a=document.getElementById((Number(s.id)+1).toString()))==null||a.focus())}function L(r,t){_.value&&V(t)}function M(r,t){const{target:s}=r,a=s.value.toLowerCase().trim();a.length<1?(t.spellValue="",t.spellError=!1):(t.spellValue=a,t.spellError=!t.word.map(l=>l.toLowerCase().trim()).includes(a)),S.value=B()}function U(r){const t={error:"ml-4 bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 inline-block p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500",normal:"ml-4 inline-block border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400",success:"ml-4 bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 inline-block p-2.5 dark:bg-gray-700 dark:border-green-500"};if(T.value){if(r.spellError)return t.error;if(r.spellValue.length>0&&!r.spellError)return t.success}return t.normal}function R(){const r=p[c.value].words,t=[];for(let s of r)for(let a of s)a.spellError&&t.push(`${a.word} ${a.pos} ${a.meaning}`);navigator.clipboard.writeText(t.join(`

`))}return(r,t)=>(i(),d("div",q,[e("div",J,[e("div",Q,[X,e("div",Z,[e("div",G,[k(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>w(c)?c.value=s:null),class:"block w-full flex-1 border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400"},[(i(!0),d(h,null,v(o(p),(s,a)=>(i(),d("option",{key:a,value:a},f(a),9,ee))),128))],512),[[z,o(c)]]),e("label",te,[k(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>w(n)?n.value=s:null),type:"checkbox",class:"sr-only peer"},null,512),[[$,o(n)]]),re,oe]),o(n)?(i(),d("label",se,[k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>w(m)?m.value=s:null),type:"checkbox",class:"sr-only peer"},null,512),[[$,o(m)]]),le,ae])):x("",!0),o(n)?(i(),d("label",ne,[k(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>w(_)?_.value=s:null),type:"checkbox",class:"sr-only peer"},null,512),[[$,o(_)]]),de,ie])):x("",!0)])])]),e("div",ce,[e("div",ue,[e("div",fe,[e("div",ge,[e("table",pe,[be,e("tbody",he,[e("tr",xe,[e("td",ye,[e("div",ke,[e("div",me,[e("span",_e,f(o(c)),1),H(" （ "+f(o(p)[o(c)].groupCount)+" 组 "+f(o(p)[o(c)].wordCount)+" 个词 ） ",1)]),e("div",we,[e("audio",ve,[e("source",{src:`vocabulary/audio/${o(p)[o(c)].audio}`,type:"audio/mpeg"},null,8,$e)])])])])]),(i(!0),d(h,null,v(o(p)[o(c)].words,(s,a)=>(i(),d(h,{key:s.label},[(i(!0),d(h,null,v(s,l=>k((i(),d("tr",{key:l.id,class:E([{"bg-gray-50 dark:bg-gray-700":l.id%2===0,[`group-color-${a%15}`]:!0},"text-sm text-gray-900 dark:text-white"]),id:`tr_${l.id}`},[e("td",Ce,f(l.id),1),e("td",null,[e("i",{class:"i-ph-speaker-simple-high-bold inline-block cursor-pointer",onClick:u=>V(`vocabulary/audio/${o(c)}/${l.word}.mp3`)},null,8,Te),o(n)?(i(),d(h,{key:0},[e("i",{class:E(`${l.showSource?"i-ph-eye-slash-bold":"i-ph-eye-bold"} inline-block cursor-pointer ml-4`),title:"显示原词",onClick:u=>l.showSource=!l.showSource},null,10,Se),e("input",{id:l.id,autocomplete:"off",onFocusout:u=>M(u,l),onFocusin:u=>L(u,`vocabulary/audio/${o(c)}/${l.word}.mp3`),onKeydown:j,class:E(U(l)),type:"text"},null,42,Ve)],64)):x("",!0)]),e("td",Fe,[!o(n)||l.showSource||o(n)&&o(y)&&l.spellError?(i(),d("div",Ae,[(i(!0),d(h,null,v(l.word,u=>(i(),d("p",null,[e("a",{class:"hover:underline",title:`在剑桥词典中查询 ${u}`,target:"_blank",href:`https://dictionary.cambridge.org/dictionary/english-chinese-simplified/${u}`},f(u),9,Ie)]))),256)),e("i",{class:"i-ph-copy absolute right-0 hidden cursor-pointer px-4 group-hover:inline-block",onClick:u=>N(l)},null,8,Be)])):x("",!0)]),e("td",Ne,f(l.pos),1),e("td",je,f(o(m)?l.meaning:""),1),e("td",Le,f(o(n)?"":l.example),1),e("td",Me,f(o(n)?"":l.extra),1)],10,Ee)),[[Y,o(n)&&(o(y)?l.spellError:!0)||!o(n)]])),128))],64))),128))])])])])])]),e("div",Ue,[e("div",null,[o(n)?(i(),d("p",Re,f(o(S)),1)):x("",!0)]),o(n)?(i(),d("div",De,[e("button",{type:"button",class:"rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[4]||(t[4]=s=>T.value=!0)}," 完成练习 "),e("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[5]||(t[5]=s=>y.value=!o(y))},f(o(y)?"展示所有":"仅展示错词"),1),e("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:R}," 拷贝错词 ")])):x("",!0)])])]))}};export{We as default};
